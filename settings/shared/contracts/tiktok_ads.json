{
  "apiVersion": "v3.1.0",
  "kind": "DataContract",
  "id": "tiktok_ads",
  "name": "TikTok Ads Report",
  "version": "1.0.0",
  "status": "active",
  "domain": "advertising",
  "description": "Raw performance data from TikTok Marketing API Integrated Report endpoint (/report/integrated/get/, v1.3). Contains campaign, ad group, and ad-level metrics. One row per date + level + breakdown combination.",
  "schema": [
    {
      "name": "tiktok_ads",
      "physicalType": "file",
      "properties": [
        {
          "name": "advertiser_name",
          "logicalType": "string",
          "transformLogic": "metrics.advertiser_name as advertiser_name",
          "description": "Advertiser account name"
        },
        {
          "name": "advertiser_id",
          "logicalType": "string",
          "transformLogic": "metrics.advertiser_id as advertiser_id",
          "description": "Advertiser account ID",
          "quality": [
            { "metric": "nullValues", "mustBe": 0 }
          ]
        },
        {
          "name": "campaign_name",
          "logicalType": "string",
          "transformLogic": "metrics.campaign_name as campaign_name",
          "description": "Campaign name"
        },
        {
          "name": "campaign_id",
          "logicalType": "string",
          "transformLogic": "metrics.campaign_id as campaign_id",
          "description": "Campaign ID",
          "quality": [
            { "metric": "nullValues", "mustBe": 0 }
          ]
        },
        {
          "name": "objective_type",
          "logicalType": "string",
          "transformLogic": "metrics.objective_type as objective_type",
          "description": "Advertising objective"
        },
        {
          "name": "adgroup_name",
          "logicalType": "string",
          "transformLogic": "metrics.adgroup_name as adgroup_name",
          "description": "Ad group name"
        },
        {
          "name": "adgroup_id",
          "logicalType": "string",
          "transformLogic": "metrics.adgroup_id as adgroup_id",
          "description": "Ad group ID",
          "quality": [
            { "metric": "nullValues", "mustBe": 0 }
          ]
        },
        {
          "name": "ad_name",
          "logicalType": "string",
          "transformLogic": "metrics.ad_name as ad_name",
          "description": "Ad name"
        },
        {
          "name": "ad_id",
          "logicalType": "string",
          "transformLogic": "metrics.ad_id as ad_id",
          "description": "Ad ID",
          "quality": [
            { "metric": "nullValues", "mustBe": 0 }
          ]
        },
        {
          "name": "spend",
          "logicalType": "string",
          "logicalTypeOptions": { "format": "number" },
          "transformLogic": "metrics.spend as spend",
          "description": "Sum of your total ad spend.",
          "quality": [
            { "metric": "nullValues", "mustBe": 0 },
            { "type": "sql", "query": "SELECT COUNT(*) FROM {object} WHERE CAST({property} AS DOUBLE) < 0", "mustBe": 0 },
            { "type": "sql", "query": "SELECT COUNT(*) FROM {object} WHERE CAST({property} AS DOUBLE) > 100000", "mustBe": 0, "severity": "warning" }
          ]
        },
        {
          "name": "impressions",
          "logicalType": "string",
          "logicalTypeOptions": { "format": "number" },
          "transformLogic": "metrics.impressions as impressions",
          "description": "Number of times your ads were shown.",
          "quality": [
            { "metric": "nullValues", "mustBe": 0 },
            { "type": "sql", "query": "SELECT COUNT(*) FROM {object} WHERE CAST({property} AS BIGINT) < 0", "mustBe": 0 }
          ]
        },
        {
          "name": "clicks",
          "logicalType": "string",
          "logicalTypeOptions": { "format": "number" },
          "transformLogic": "metrics.clicks as clicks",
          "description": "Number of clicks from your ads to a specified destination.",
          "quality": [
            { "metric": "nullValues", "mustBe": 0 },
            { "type": "sql", "query": "SELECT COUNT(*) FROM {object} WHERE CAST({property} AS BIGINT) < 0", "mustBe": 0 }
          ]
        },
        {
          "name": "reach",
          "logicalType": "string",
          "logicalTypeOptions": { "format": "number" },
          "transformLogic": "metrics.reach as reach",
          "description": "Number of unique users who saw your ads at least once."
        }
      ],
      "quality": [
        { "metric": "rowCount", "mustBeGreaterThan": 0 }
      ]
    }
  ],
  "slaProperties": [
    { "property": "frequency", "value": 1, "unit": "d" }
  ],
  "servers": [
    {
      "server": "minio",
      "type": "s3",
      "location": "s3a://lakehouse/tiktok_ads/{advertiser_id}/{stat_time_day}",
      "format": "json"
    }
  ],
  "customProperties": [
    {
      "name": "reference",
      "value": "https://business-api.tiktok.com/portal/docs?id=1751454162042882",
      "description": "Official TikTok Marketing API Report Reference"
    },
    {
      "name": "dimension_grouping",
      "value": "https://business-api.tiktok.com/portal/docs?id=1751443956638721",
      "description": "The supported dimension grouping."
    },
    {
      "name": "documentation",
      "value": "https://business-api.tiktok.com/portal/docs",
      "description": "TikTok Business API Documentation"
    }
  ]
}